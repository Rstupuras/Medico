@page
@using Microsoft.AspNetCore.Authorization
@inject IAuthorizationService AuthorizationService
@model RegisterModel
@{
    Layout = "_Layout";
}
@{
    ViewData["Title"] = "Register";
}


<div class="container py-5">
    @if (ViewData["Message"] != null)
    {
        <div class="alert alert-success" role="alert">
            @ViewData["Message"]
        </div>
    }
    @if (ViewData["Error"] != null)
    {
        <div class="alert alert-danger" role="alert">
            @ViewData["Error"]
        </div>
    }
    <div class="row">
        <div class="col-md-12">
            <div class="row">
                <div class="col-md-6 mx-auto">
                    <div class="card rounded-0">
                        <div class="card-header">
                            <h3 class="mb-0">Sign up as a new patient</h3>
                        </div>
                        <div class="card-body">
                            <form class="form" role="form" id="formLogin" method="POST" asp-page-handler="Register">
                                <div class="form-group">
                                    <label for="name">Name</label>
                                    <input asp-for="@(Model.newPatient.Name)" type="text" class="form-control" name="name" id="name" required="required">
                                    <div class="invalid-feedback">Oops, you missed this one.</div>
                                </div>
                                <div class="form-group">
                                    <label for="email">Email</label>
                                    <input asp-for="@(Model.newPatient.Name)" type="text" class="form-control" name="email" id="email" required="required">
                                    <div class="invalid-feedback">Oops, you missed this one.</div>
                                </div>
                                <div class="form-group">
                                    <label for="phoneNumber">Phone number</label>
                                    <input asp-for="@(Model.newPatient.PhoneNumber)" type="text" class="form-control" name="phoneNumber" id="phoneNumber" required="required">
                                    <div class="invalid-feedback">Oops, you missed this one.</div>
                                </div>
                                <div class="form-group">
                                    <label for="Username">Username</label>
                                    <input asp-for="@(Model.newPatient.Username)" type="text" class="form-control" name="username" id="username" required="required">
                                    <div class="invalid-feedback">Oops, you missed this one.</div>
                                </div>
                                <div class="form-group">
                                    <label for="Password">Password</label>
                                    <input asp-for="@(Model.newPatient.Password)" type="password" class="form-control" name="password" id="password" required="required" autocomplete="new-password">
                                    <div class="invalid-feedback">Enter your password too!</div>
                                </div>
                                <div class="form-group">
                                    <label>My main doctor</label>
                                    <select required="required" asp-for="MainDoctorId" asp-items="@(new SelectList(Model.DoctorList,"ID","Name"))">
                                        <option value="">Select your doctor</option>
                                    </select>
                                    <div class="invalid-feedback">Oops, you missed this one.</div>
                                </div>
                                <button type="submit" class="btn btn-primary btn-lg float-right" id="btnLogin">Sign up</button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>